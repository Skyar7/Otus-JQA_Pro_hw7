- job-template:
    name: 'ui-tests'
    description: '<h3 style="color:#999696;">UI tests</h3>'
    project-type: pipeline
    concurrent: true
    logrotate:
      daysToKeep: 30
      numToKeep: 10
    properties:
      - build-discarder:
          num-to-keep: 100
    parameters:
      - text:
          name: YAML_CONFIG
          default: |
            TEST_VERSION: 1.0.0
            BROWSER_NAME: chrome
            BROWSER_VERSION: 121.0
            BASE_URL: https://otus.ru
            REMOTE_URL: http://127.0.0.1/wd/hub
            DRIVER_TYPE: remote
      - string:
          name: REFSPEC
          default: original
          description: Branch for UI tests
    pipeline-scm:
      scm:
      - git-ui-tests
      script-path: jenkins/ui-tests.groovy
    publishers:
      - allure:
        results-paths:
        - path: 'allure-results'
        properties:
        - jdk: openjdk1.8
        commandline: allure2
        report-build-policy: UNSTABLE
        include-properties: true
